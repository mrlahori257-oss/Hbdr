<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Happy Birthday â€” Code Card</title>
<style>
  :root{
    --bg:#0b1020;
    --panel:#071025;
    --neon:#7ce4ff;
    --accent:#ffd166;
    --muted:#9aa7b2;
    --font: "SF Mono", "JetBrains Mono", "Source Code Pro", monospace;
  }
  html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg), #061025 80%);font-family:var(--font);-webkit-font-smoothing:antialiased;}
  .wrap{
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:24px;
    box-sizing:border-box;
  }
  .card{
    width:100%;
    max-width:820px;
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border:1px solid rgba(255,255,255,0.04);
    border-radius:14px;
    padding:28px;
    box-shadow: 0 10px 30px rgba(4,10,18,0.6);
    position:relative;
    overflow:hidden;
  }

  /* top bar (like window) */
  .bar{display:flex;gap:8px;align-items:center;margin-bottom:18px}
  .dot{width:12px;height:12px;border-radius:50%}
  .d1{background:#ff5f57}
  .d2{background:#ffbd2e}
  .d3{background:#27c93f}

  /* terminal area */
  .term{
    background:linear-gradient(0deg, rgba(4,8,12,0.4), rgba(4,8,12,0.2));
    border-radius:8px;
    padding:22px;
    color:var(--neon);
    font-size:18px;
    line-height:1.45;
    min-height:260px;
    box-sizing:border-box;
    position:relative;
    overflow:hidden;
  }
  .meta{color:var(--muted); font-size:13px; margin-bottom:8px}
  .code{white-space:pre-wrap; font-family:var(--font); letter-spacing:0.2px}
  .cursor{display:inline-block;width:10px;height:20px;background:var(--neon);margin-left:6px;vertical-align:middle; animation:blink 1s steps(2) infinite;}
  @keyframes blink{50%{opacity:0}}

  .accent{color:var(--accent)}
  .varname{color:#9effa8}
  .str{color:#ffd6ea}
  .fn{color:#b8d6ff}
  .comment{color:#6b7c85}

  /* falling confetti (emojis) */
  .confetti{
    pointer-events:none;
    position:absolute;
    inset:0;
    overflow:hidden;
  }
  .confetti span{
    position:absolute;
    top:-10vh;
    font-size:20px;
    animation:fall linear forwards;
  }
  @keyframes fall{
    to{transform:translateY(120vh) rotate(360deg); opacity:0.9}
  }

  /* small footer hint */
  .hint{margin-top:12px;color:var(--muted);font-size:13px;text-align:right}
  /* responsive */
  @media (max-width:480px){
    .term{font-size:16px; padding:18px; min-height:220px}
    .card{padding:18px}
  }
</style>
</head>
<body>
<div class="wrap">
  <div class="card" id="card">
    <div class="bar">
      <div class="dot d1"></div>
      <div class="dot d2"></div>
      <div class="dot d3"></div>
    </div>

    <div class="term" id="term">
      <div class="meta">/* booting celebrator â€” Happy Birthday card */</div>
      <div class="code" id="code"></div>
      <div class="cursor" id="cursor"></div>
    </div>

    <div class="hint">Tip: Screen-record this and trim for your Reel ðŸŽ¥</div>

    <div class="confetti" id="confetti"></div>
  </div>
</div>

<script>
/* ====== EDIT THESE to personalize ====== */
const CRUSH_NAME = "Ayesha"; // <<--- change to your crush's name
const SENDER = "â€” Abdul";     // <<--- change to your name
const LINES = [
  `// Dear ${CRUSH_NAME},`,
  `function wishBirthday() {`,
  `  const name = "${CRUSH_NAME}";`,
  `  const age = "You are amazing âœ¨";`,
  `  const message = "Happy Birthday, ${CRUSH_NAME} â€” may your day be full of smiles, chai, and dreamy moments.";`,
  `  console.log("%c" + message, "color: #ffd6ea; font-weight: 600");`,
  `}`,
  ``,
  `wishBirthday();`,
  ``,
  `/* ${SENDER} */`
];
/* ====== end editable block ====== */

/* typing effect */
const codeEl = document.getElementById('code');
const cursor = document.getElementById('cursor');
let lineIndex = 0, charIndex = 0;

function styleForToken(text){
  // quick & simple syntax coloring
  return text
    .replace(/(\/\/.*$)/g, '<span class="comment">$1</span>')
    .replace(/"([^"]*)"/g, '<span class="str">"$1"</span>')
    .replace(/\b(function|const|let|var|return|console|log)\b/g, '<span class="fn">$1</span>')
    .replace(/\b(wishBirthday|wishBirthday\(\))\b/g, '<span class="varname">$1</span>');
}

function typeNextChar(){
  if (lineIndex >= LINES.length) {
    // done typing
    cursor.style.display = 'none';
    launchConfetti();
    return;
  }
  const line = LINES[lineIndex];
  if (charIndex <= line.length){
    const before = LINES.slice(0,lineIndex).join('\n');
    const current = line.slice(0,charIndex);
    codeEl.innerHTML = styleForToken(before ? before + '\n' + current : current);
    charIndex++;
    // variable speed for realism
    const delay = 18 + Math.random()*45;
    setTimeout(typeNextChar, delay);
  } else {
    // move to next line after short pause
    lineIndex++;
    charIndex = 0;
    setTimeout(typeNextChar, 220);
  }
}

// start typing after tiny delay
setTimeout(typeNextChar, 600);

/* simple confetti generator (emoji based) */
function launchConfetti(){
  const confettiContainer = document.getElementById('confetti');
  const emojis = ["ðŸŽ‰","âœ¨","ðŸŽ‚","ðŸ’–","ðŸ¥³","ðŸŒŸ"];
  const count = 28;
  for (let i=0;i<count;i++){
    const s = document.createElement('span');
    s.textContent = emojis[Math.floor(Math.random()*emojis.length)];
    // random horizontal start
    const left = Math.random()*100;
    s.style.left = left + "%";
    s.style.fontSize = (14 + Math.random()*24) + "px";
    s.style.animationDuration = (3 + Math.random()*3) + "s";
    s.style.opacity = 0.95;
    // stagger start
    s.style.animationDelay = (Math.random()*0.8) + "s";
    confettiContainer.appendChild(s);
  }
}

/* optional: click to replay */
document.getElementById('card').addEventListener('click', ()=>{
  // clear
  document.getElementById('confetti').innerHTML='';
  codeEl.innerHTML='';
  cursor.style.display='inline-block';
  lineIndex = 0; charIndex = 0;
  setTimeout(typeNextChar, 200);
});
</script>
</body>
</html>
